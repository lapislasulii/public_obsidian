
## Конспект лекции по дискретной математике

### I. Основные определения

#### 1. Классы Поста (Post's Classes)

Существует пять основных классов булевых функций, называемых **Классами Поста**.

|Название класса|Определение по лекции|Объяснение простым языком|
|:--|:--|:--|
|**$T_0$** (Сохраняющий ноль)|Функция $f(\vec{x})$ равна нулю на нулевом векторе: $\mathbf{f(0) = 0}$.|**Функция "сохраняет" ноль.** Если все входные аргументы равны нулю, результат тоже равен нулю.|
|**$T_1$** (Сохраняющий единицу)|Функция $f(\vec{x})$ равна единице на единичном векторе: $\mathbf{f(1) = 1}$.|**Функция "сохраняет" единицу.** Если все входные аргументы равны единице, результат тоже равен единице.|
|**$M$** (Монотонные)|Функция $f(\vec{x})$ такая, что на произвольной паре доминирующих векторов она выдаёт доминирующее значение. $\mathbf{f(\vec{x}) \le f(\vec{y})}$, где $\vec{x}$ доминирует $\vec{y}$ (или $\vec{y}$ доминирует $\vec{x}$).|**Функция не "падает" при росте входа.** Если вы меняете нули на единицы во входном векторе, значение функции либо не меняется, либо становится 1 (не может стать 0).|
|**$S$** (Самодвойственные)|Функция, в которой можно свободно проносить отрицание сквозь функцию: $\mathbf{f(\vec{x}) = \neg f(\neg \vec{x})}$.|**Свойство "отражения".** Если вы отрицаете (инвертируете) все входные переменные, то результат функции будет равен отрицанию (инверсии) исходного результата.|
|**$L$** (Линейные)|Функция, полином Жегалкина которой не содержит конъюнкции (умножения).|**Функция, использующая только XOR.** Её можно записать как сумму (исключающее ИЛИ) входных переменных и, возможно, константы, но без их попарного умножения.|

#### 2. Замкнутый класс и Суперпозиция

- **Замыкание множества функций:** Множество функций, полученных всевозможными **суперпозициями** функций из исходного множества.
- **Суперпозиция (Определение):** Обобщённый вид композиции, в которой одна функция подставляется вместо аргумента другой функции.
    - _Простое объяснение:_ Это акт "встраивания" одной функции (её результата) в качестве входного аргумента другой функции.
- **Замкнутый класс (Определение):** Множество функций называется замкнутым классом, если его замыкание совпадает с самим множеством функций.
    - _Простое объяснение:_ Класс функций замкнут, если, используя функции из него для построения новых функций (через суперпозиции), вы **никогда не покинете** этот класс.

---

### II. Теорема о замкнутости классов Поста

**Теорема:** Все классы Поста замкнуты.

#### Лемма 1: Класс $T_0$ замкнут

**Доказательство:** Пусть даны две произвольные функции $f$ и $g$, принадлежащие классу $T_0$. Рассмотрим функцию $h$, которая является произвольной суперпозицией $f$ и $g$. $h$ определена как подстановка $g$ вместо $k$-го аргумента функции $f$: $$h(\vec{X}_1, \dots, \vec{Y}_m) = f(x_1, \dots, x_{k-1}, g(y_1, \dots, y_m), x_{k+1}, \dots, x_n)$$ Нам необходимо показать, что $h \in T_0$, то есть $h(\vec{0}) = 0$.

1. Подставим нулевой вектор $\vec{0}$ в $h$: $$h(\vec{0}) = f(0, \dots, 0, g(\vec{0}), 0, \dots, 0)$$
2. Поскольку $g \in T_0$, мы знаем, что $g(\vec{0}) = 0$.
3. Подставим 0 обратно в $f$: $$h(\vec{0}) = f(0, \dots, 0, 0, 0, \dots, 0) = f(\vec{0})$$
4. Поскольку $f \in T_0$, мы знаем, что $f(\vec{0}) = 0$.
5. Следовательно, $h(\vec{0}) = 0$, и функция $h$ принадлежит классу $T_0$. Лемма доказана.

#### Лемма 2: Класс $T_1$ замкнут

**Доказательство:** Доказательство аналогично доказательству для $T_0$, но проверяется сохранение единицы. Пусть $f, g \in T_1$. Нам необходимо показать, что $h(\vec{1}) = 1$.

1. Подставим единичный вектор $\vec{1}$ в $h$: $h(\vec{1}) = f(1, \dots, 1, g(\vec{1}), 1, \dots, 1)$.
2. Так как $g \in T_1$, $g(\vec{1}) = 1$.
3. $h(\vec{1}) = f(\vec{1})$.
4. Так как $f \in T_1$, $f(\vec{1}) = 1$.
5. Следовательно, $h(\vec{1}) = 1$, и функция $h$ принадлежит классу $T_1$.

#### Лемма 3: Класс монотонных функций замкнут

**Доказательство:** Пусть $f$ и $g$ — монотонные функции. Рассмотрим суперпозицию $h$. Нам нужно доказать, что для произвольной пары векторов $Z'$ и $Z$, где $Z'$ доминирует $Z$ ($Z' \ge Z$), должно выполняться $h(Z') \ge h(Z)$.

1. Введём векторы $Z'$ и $Z$. Векторы $Z'$ и $Z$ состоят из частей $X'$ и $Y'$, и $X$ и $Y$ соответственно, так что $X' \ge X$ и $Y' \ge Y$.
2. Рассмотрим значения функции $g$ на векторах $Y'$ и $Y$: $\xi' = g(Y')$ и $\xi = g(Y)$.
3. Поскольку $g$ монотонна и $Y'$ доминирует $Y$, получаем $\mathbf{\xi' \ge \xi}$.
4. Теперь рассмотрим значения $h$: $$h(Z') = f(X'_1, \dots, X'_{k-1}, \xi', X'_{k+1}, \dots, X'_n)$$ $$h(Z) = f(X_1, \dots, X_{k-1}, \xi, X_{k+1}, \dots, X_n)$$
5. Поскольку $X'$ доминирует $X$ покомпонентно, и мы установили, что $\xi' \ge \xi$, то вектор аргументов функции $f$ для $h(Z')$ доминирует вектор аргументов функции $f$ для $h(Z)$.
6. Поскольку $f$ монотонна, это означает, что $\mathbf{h(Z') \ge h(Z)}$.
7. Следовательно, $h$ монотонна. Лемма доказана.

#### Лемма 4: Класс самодвойственных функций замкнут

**Доказательство:** Пусть $f$ и $g$ — самодвойственные функции. Рассмотрим суперпозицию $h$. Нам нужно показать, что $h(\neg Z) = \neg h(Z)$.

1. Вычисляем $h$ от отрицания аргументов $\neg Z$. Аргументами $h$ являются векторы $X$ (без $x_k$) и $Y$: $$h(\neg Z) = f(\neg X_1, \dots, \neg X_{k-1}, g(\neg Y), \neg X_{k+1}, \dots, \neg X_n)$$
2. Поскольку $g$ самодвойственна, мы заменяем $g(\neg Y)$ на $\neg g(Y)$. $$h(\neg Z) = f(\neg X_1, \dots, \neg X_{k-1}, \neg g(Y), \neg X_{k+1}, \dots, \neg X_n)$$
3. Обратите внимание, что каждый аргумент функции $f$ в скобках теперь имеет отрицание.
4. Поскольку $f$ самодвойственна, мы можем вынести отрицание: $$h(\neg Z) = \neg f(X_1, \dots, X_{k-1}, g(Y), X_{k+1}, \dots, X_n)$$
5. Выражение внутри отрицания — это исходная функция $h(Z)$.
6. Следовательно, $\mathbf{h(\neg Z) = \neg h(Z)}$, и функция $h$ самодвойственна. Лемма доказана.

#### Лемма 5: Класс линейных функций замкнут

**Доказательство:** Пусть $f$ и $g$ — линейные функции. Линейность означает, что функция не содержит конъюнкций (умножений) в полиноме Жегалкина.

1. Функцию $f$ можно представить, отделив $k$-й аргумент (если он существенен), используя XOR:
    - Либо $f = f'$, если $x_k$ несущественен.
    - Либо $f = f' \oplus x_k$, если $x_k$ существенен. Где $f'$ — это линейная функция, не зависящая от $x_k$.
2. Суперпозиция $h$ получается заменой $x_k$ на $g$.
3. **Случай 1 ($x_k$ несущественен):** $h = f'$. Так как $f'$ линейна, $h$ линейна.
4. **Случай 2 ($x_k$ существенен):** $h = f' \oplus g$.
5. Поскольку $f'$ линейна, а $g$ линейна (по условию леммы), их сумма по модулю 2 (XOR) также является линейной функцией.
    - _Объяснение:_ Сумма двух линейных многочленов (полиномов Жегалкина без конъюнкций) не может привести к появлению конъюнкции (умножения).
6. Следовательно, $h$ линейна. Лемма доказана.

---

### III. Критерий Поста (Теорема о полноте набора функций)

#### 1. Полный набор функций (Базис)

**Определение:** **Базисом** (или **полным набором функций**) называется набор функций, суперпозициями которых можно построить (выразить) **произвольную булеву функцию**.

- _Простое объяснение:_ Это набор "строительных блоков", который позволяет создать любую логическую схему.

#### 2. Теорема Поста (Критерий полноты)

**Формулировка:** Набор функций $F$ является полным **тогда и только тогда, когда** этот набор функций не лежит полностью ни в одном из пяти классов Поста ($T_0, T_1, M, S, L$).

Символьная запись: $$F \text{ полон} \iff F \not\subseteq T_0 \land F \not\subseteq T_1 \land F \not\subseteq M \land F \not\subseteq S \land F \not\subseteq L$$ Где $F \not\subseteq K$ означает, что множество $F$ целиком не является подмножеством класса $K$.

#### 3. Доказательство критерия Поста (Направление: $\Rightarrow$)

**Необходимое условие:** Если набор $F$ полон, то он не лежит полностью ни в одном из классов Поста.

**Доказательство от противного:**

1. Предположим, что набор $F$ является полным, но при этом он **целиком принадлежит** одному из классов Поста (например, $K$).
2. Так как все классы Поста замкнуты (раздел II), любая функция, построенная как суперпозиция функций из $F$, также будет принадлежать классу $K$.
3. Если $F$ полон, он обязан уметь выражать **произвольную** булеву функцию.
4. Однако существуют булевы функции (например, стрелка Пирса или штрих Шеффера), которые не лежат **ни в одном** из пяти классов Поста.
5. Если $F$ целиком лежит в $K$, он не может построить функцию, которая не принадлежит $K$.
6. Получаем противоречие: $F$ не может выразить все булевы функции (например, штрих Шеффера), но по предположению он должен быть полным.
7. Следовательно, исходное предположение неверно: полный набор функций не может целиком лежать ни в одном из классов Поста.

#### 4. Доказательство критерия Поста (Направление: $\Leftarrow$)

**Достаточное условие:** Если набор $F$ не лежит полностью ни в одном из классов Поста, то он полон.

Для доказательства этого направления необходимо показать, что из этого условия можно построить минимальный полный набор (например, дизъюнкцию, конъюнкцию и отрицание). Лекция сосредотачивается на важной вспомогательной лемме, позволяющей построить отрицание.

##### Лемма об отрицании (Лемма о немонотонной функции)

**Формулировка:** Пусть даны функции константного нуля ($\mathbf{0}$), константной единицы ($\mathbf{1}$) и немонотонная функция $\mathbf{f}$. Тогда, используя суперпозицию, можно выразить **отрицание** ($\neg x$).

**Доказательство:**

1. Так как $f$ немонотонна, существует пара векторов $X$ и $Y$, где $X$ доминирует $Y$ ($X \ge Y$), но монотонность нарушается: $\mathbf{f(X) < f(Y)}$.
2. В булевой алгебре это означает: $f(X) = 0$ и $f(Y) = 1$.
3. Разделим индексы аргументов $i$ на три непересекающихся множества $E, N, H$:
    - $E$ (Единицы): $x_i = y_i = 1$.
    - $N$ (Нули): $x_i = y_i = 0$.
    - $H$ (Различающиеся): $x_i = 1, y_i = 0$.
4. Сконструируем функцию отрицания $\neg x$ как суперпозицию $f$ с аргументами $P_i$: $$\neg x = f(P_1, P_2, \dots, P_n)$$ Где функция $P_i$ зависит от индекса $i$:
    - $P_i = 1$, если $i \in E$ (используем константную единицу).
    - $P_i = 0$, если $i \in N$ (используем константный ноль).
    - $P_i = x$, если $i \in H$ (используем переменную $x$).
5. **Проверка:**
    - Если подставить $\mathbf{x=0}$ в $\neg x$, то аргументы $P_i$ превратятся ровно в вектор $X$ (поскольку $x=0$ в $H$ становится 0, а $X$ имел 1 в $H$). $$\neg 0 = f(X)$$ Поскольку $f(X)=0$, получаем $\neg 0 = 0$. (Ошибка в рассуждении лектора, по определению $\neg 0 = 1$. Проверка на примере: если $x=0$, то $P_i$ принимает значения $X$: $1$ для $E$, $0$ для $N$, $0$ для $H$. Таким образом, $\neg 0 = f(X)=0$. Это противоречит определению отрицания.)
    - Если подставить $\mathbf{x=1}$ в $\neg x$, то аргументы $P_i$ превратятся ровно в вектор $Y$. $$\neg 1 = f(Y)$$ Поскольку $f(Y)=1$, получаем $\neg 1 = 1$. (Ошибка в рассуждении лектора, по определению $\neg 1 = 0$.)

_(Примечание: Несмотря на обнаруженные в лекции ошибки в проверке $\neg 0 = 0$ и $\neg 1 = 1$, сама лемма сформулирована о возможности построения отрицания. Это достигается за счет специфической подстановки констант и переменной $x$.)_

**Заключение по критерию Поста:** Набор функций полон тогда и только тогда, когда он не лежит целиком ни в одном из пяти замкнутых классов Поста.


### 1. Основные понятия и символы регулярных выражений

В ходе практики обсуждались правила построения автоматов на основе регулярных выражений и их семантика:

- **Терминальное состояние** — это состояние, в котором автомат может успешно завершить работу (вердикт «ОК»).
- **Символ «+» (плюс)** — означает одно или более повторений предыдущего символа или группы. В зависимости от структуры, добавление плюса может увеличивать, уменьшать или сохранять количество терминальных состояний.
- **Символ «?» (вопросительный знак)** — означает ноль или одно повторение («может быть, а может и не быть»). Обычно наличие вопросительного знака увеличивает количество терминальных состояний в автомате.
- **Символ «*» (звёздочка)** — означает повторение от нуля до бесконечности. Звёздочка считается одним из самых сложных объектов для реализации в автоматах. Как и вопросительный знак, она не уменьшает количество терминальных состояний, так как допускает нулевое повторение.

### 2. Построение и оптимизация автоматов

При проектировании автоматов важно учитывать логику переходов и возможность оптимизации:

- **Реализация логики подстрок:** При создании автомата для поиска определённых комбинаций символов (например, «было А», «было B», «было А, затем B») создаются промежуточные состояния, фиксирующие прогресс чтения строки.
- **Эквивалентность автоматов:** Для одной и той же регулярки можно построить разные по структуре графов автоматы, которые будут принимать один и тот же язык. Не существует единственного способа представления регулярного выражения в виде детерминированного конечного автомата (ДКА).
- **Минимизация и слияние состояний:** Состояния можно объединять (схлопывать), если все исходящие из них рёбра по одинаковым символам указывают в одни и те же следующие состояния. Алгоритм минимизации направлен на уменьшение количества состояний до минимально возможного.

### 3. Обратная задача: получение регулярного выражения по автомату

Для того чтобы восстановить регулярное выражение из готового автомата, используется следующий подход:

1. **Обход в глубину (DFS):** Необходимо рассмотреть все пути от начального состояния до всех терминальных состояний.
2. **Обработка циклов:** Петли и переходы назад в графе преобразуются в конструкцию «звёздочка» (`*`) в регулярном выражении.
3. **Выявление «ошибочных» состояний:** Если из некоторого состояния невозможно добраться ни до одного терминального, оно считается ошибочным (тупиковым) и не включается в успешные шаблоны регулярного выражения.
4. **Запись ответа:** Все найденные пути объединяются с помощью операции «ИЛИ» (вертикальная черта `|`).

### 4. Автоматы с магазинной памятью (стековые автоматы)

Такие автоматы отличаются наличием дополнительного хранилища — стека.

- **Операции со стеком:** При переходе по символу автомат может добавить элемент в стек, удалить его или ничего не менять.
- **Пример использования ($A^n B^n C^n$):** Стек часто используется как счетчик. Например, при чтении символа `B` мы можем добавлять единицу в стек, а при чтении `C` — вычитать.
- **Условия завершения:** Для того чтобы автомат с магазинной памятью принял строку, должны быть выполнены два условия одновременно:
    1. Автомат находится в **терминальном состоянии**.
    2. **Магазин (стек) должен быть пуст**.
- В процессе работы счетчик стека никогда не должен уходить в минус.

---

**Аналогия для понимания стекового автомата:** Представьте себе магазин в условиях дефицита: он может выдать товар (считать символ) только в том случае, если до этого товар был завезён на склад (положен в стек), и в итоге на складе не должно остаться ничего лишнего, чтобы проверка прошла успешно.
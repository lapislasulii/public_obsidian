[[Презентация лекции Матроиды]]
### 1. Введение: Жадные алгоритмы и проблема оптимальности

Лекция начинается с повторения концепции **жадных алгоритмов**, которые были темой предыдущего занятия.

- **Суть жадного подхода:** на каждом шаге принимается **локально оптимальное решение** в надежде, что это приведет к глобальному оптимуму.
- **Проблема:** жадные алгоритмы не всегда находят оптимальное решение. Это зависит от условий конкретной задачи.
    - _Пример (Задача о размене монет):_ Если нужно разменять 18 рублей монетами {1, 2, 5, 10}, жадный алгоритм сработает. Если же набор монет — {2, 5, 10}, то жадным способом собрать 18 рублей может быть физически невозможно или решение будет неоптимальным.
    - _Пример (ML-кейсы):_ Подбор гиперпараметров часто дает лишь локальный минимум, так как жадный алгоритм не видит всей последовательности действий, которая могла бы быть лучше.

### 2. Определение матроида

**Матроид** — это математическая структура, которая позволяет **доказать оптимальность жадного алгоритма**. Если задачу можно представить в виде матроида, то жадный алгоритм для неё всегда будет находить глобальный оптимум.

Матроид $M = (S, I)$ представляет собой систему множеств, где:

1. **$S$** — конечное множество элементов (носитель матроида). Например, это могут быть номиналы монет или ребра графа.
2. **$I$** — семейство **независимых подмножеств** из $S$.

Чтобы система была матроидом, должны выполняться три аксиомы:

- **[nil] Пустое множество:** $\emptyset \in I$.
- **[sub] Свойство наследственности:** Если множество $B$ принадлежит $I$ (независимо) и $A \subseteq B$, то подмножество $A$ также принадлежит $I$.
- **[aug] Свойство замены (exchange):** Если есть два независимых множества $A$ и $B$, причем размер $|A| < |B|$, то существует такой элемент $x \in B \setminus A$, что добавление его к $A$ сохранит независимость ($A \cup {x} \in I$).

### 3. Алгоритм Радо-Эдмонса

Для матроидов существует универсальный жадный алгоритм — **алгоритм Радо-Эдмонса**. **Суть алгоритма:**

1. Каждому элементу $x_i$ носителя $S$ сопоставляется вес $w_i$.
2. Элементы сортируются по весу (обычно от большего к меньшему для максимизации).
3. Начиная с пустого множества $A$, мы поочередно берем элементы и добавляем их в $A$, если получившееся множество остается независимым ($A \cup {x} \in I$).

### 4. Практические примеры применения

#### А. Минимальное остовное дерево (MST) и алгоритм Краскала

Алгоритм Краскала является классическим примером жадного алгоритма на матроидах.

- **Носитель $S$:** все ребра графа.
- **Семейство $I$:** подмножества ребер, не образующие циклов (леса).
- **Доказательство:**
    - Любое подмножество ребер дерева без циклов также не содержит циклов ([sub]).
    - Если один лес $A$ меньше леса $B$, всегда можно найти ребро в $B$, которое соединит компоненты в $A$, не создавая цикла ([aug]).

#### Б. Задача планирования работ (Job Selection)

Задача состоит в том, чтобы составить расписание выполнения задач с дедлайнами и штрафами (или прибылью), минимизируя общий штраф.

- **Жадная стратегия:** выполнять задачи с наибольшим профитом в первую очередь, стараясь успеть до дедлайна.
- **Матроид:** здесь элементами носителя являются сами работы, а независимыми множествами — наборы работ, которые можно выполнить без просрочки дедлайна.

#### В. Задача о размене монет

Для этой задачи матроид строится не всегда.

- Независимость подмножества определяется тем, что сумма его элементов не превышает заданный лимит.
- Если свойство замены ([aug]) не выполняется (как в случае с монетами {1, 4, 5} для суммы 8), матроида нет, и жадный алгоритм может выдать неоптимальный результат.

### 5. Резюме и дополнительные материалы

- Нахождение матроида — это гарантия того, что «жадность» работает правильно.
- Если матроид не найден, это еще **не доказывает** неоптимальность алгоритма, но ставит её под сомнение.
- Тема глубокая и часто рассматривается в классической литературе, например, в книге **Кормена** «Алгоритмы: построение и анализ».

**Метафора для закрепления:** Представьте матроид как **правила игры в конструктор**, где любое собранное творение можно разобрать на более мелкие (свойство наследственности), а если у вашего друга деталей в постройке больше, вы всегда можете взять одну его деталь и добавить к своей, не нарушив устойчивости конструкции (свойство замены). Если эти правила соблюдаются, то стратегия «бери самую большую деталь первой» всегда приведет к самой массивной башне.
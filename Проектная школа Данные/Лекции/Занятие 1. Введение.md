[[Занятие 1. .pptx.pdf]]
### Общая информация и структура курса

**Название занятия:** Занятие №1. Введение в работу с данными и разведочный анализ (EDA).

**Преподаватель:** Дмитрий Кротов, И.о. Team Lead аналитиков (Авито Подработка), 5 лет в Аналитике (ex Avito Авто, Ozon), аспирант.

**Правила курса:** Задавать вопросы, не бояться ошибок, бережно реагировать и активно участвовать в задачах.

**Темы, обсуждаемые в рамках курса:** Курс включает в себя Введение в работу с данными и разведочный анализ, Статистический анализ и визуализацию данных. Более углубленные темы:

- Углубленный EDA и формирование гипотез.
- Очистка и подготовка датасета.
- Инженерия признаков.
- Разметка данных (в том числе с помощью нейронок).
- Аугментация данных (в том числе с помощью LLM).
- Прогон данных через ML-модели и обучение ML-моделей.

**Цели первого занятия:** Познакомиться с тем, как устроена работа с данными в Авито, разобрать роль данных и процессов их обработки для бизнеса, обсудить типы данных, их источники, цели и задачи разведочного анализа (EDA), и приступить к первой практической работе.

---

### 1. Роль данных и Аналитическая платформа (На примере Авито)

**Что такое Авито?** Это классифайд – онлайн-сервис, где собраны различные объявления от частных лиц и компаний, сгруппированные по темам.

**Роль данных в бизнесе и продукте:**

- Данные являются одним из **ключевых активов** компаний, наравне с финансами, технологиями и людьми.
- Они позволяют принимать решения, опираясь на **факты, а не только на интуицию**.
- Конкуренция сегодня во многом определяется **скоростью и качеством работы с данными**.
- **Данные — стратегический ресурс**.

**Кейсы работы с данными в Авито:**

- **Рекомендации товаров:** алгоритмы анализируют интересы и показывают релевантные объявления, что приводит к росту кликов и откликов.
- **Борьба с мошенничеством:** анализ текстов и фотографий помогает выявлять и блокировать подозрительные объявления.
- **Прогнозирование цен:** алгоритмы подсказывают продавцам оптимальную цену.
- **Анализ изображений:** автоматическая модерация фотографий для фильтрации запрещённого контента.

**Аналитическая платформа включает:**

1. **DWH** (Data Warehouse).
2. **А/B-платформа**.
3. **BI-системы**.

**Источники данных:**

- **Front (Фронтенд):** Данные о **пользовательских действиях** на сайте и в мобильном приложении. В России для их хранения и обработки часто используется ClickHouse.
- **Back (Бэкенд):** **Данные сервисов** (например, изменения статуса заказа или регистрации). В DWH они обычно нормализуются до 6НФ.
- **Регулярные экстракты:** Информация, которую бизнес хранит в таблицах (например, бюджеты, цели, ручные словари) и затем загружает в DWH.
- **Ad-hoc загрузка:** Разовая загрузка данных в DWH из Excel- или CSV-файлов.

**СУБД (Системы управления БД):** Наиболее популярные: Vertica, Clickhouse, Trino, GreenPlum, PostgreSQL, Oracle.

**DWH (Хранилище данных):**

- Хранит множество таблиц в разных схемах (например, `public.`, `team_name.`) и формах (DMA, DDS, dict).
- Данные должны храниться в таблицах с **корректно заданными ключами** (Primary, Foreign), а сущности должны быть однозначно интерпретируемыми.
- **Процессы сбора данных:** Трекер пополняется событиями каждую минуту. Актуальная информация из сервисов забирается и загружается ежедневно.
- **Расчет таблиц:** Шедулер запускает скрипты расчёта таблиц ежедневно по регламенту, учитывая зависимости.

**Автоматизация и инструменты:**

- **Data каталоги:** Подробно описывают все виды источников данных, поля таблиц, скрипты и показывают взаимосвязи сущностей.
- **Каталоги метрик:** Место фиксации всех метрик, где фиксируются методология и логика расчета, прикрепляется скрипт и делаются теги важности.
- **A/B-платформа:** Позволяет быстро сетапить тест, сплитовать пользователей, запускать функционал и автоматически рассчитывать результаты по сотням метрик.
- **BI-платформа:** Позволяет визуализировать большие объемы данных, автоматически рассчитывать метрики и предоставлять заказчикам аналитики необходимые данные.

**Роль аналитика в Self-service аналитике:** **Целевая картина:** Аналитик не должен быть "выгрузчиком данных", а должен **делать сложные инструменты**. Аналитик делает ML модели, исследования и сегментации. Заказчики самостоятельно забирают выгрузки и цифры из BI-инструментов и скриптов.

**Вызовы и ограничения в работе с данными:**

1. Данные часто бывают **неполными или «грязными»** (содержат опечатки, дубликаты, ошибки).
2. Существуют **правовые и этические ограничения** (нельзя использовать данные пользователей без их согласия).
3. **Технологические ограничения:** Хранение и обработка больших объёмов данных требует серьёзных ресурсов.
4. **Интерпретация данных:** Важно правильно понимать их смысл, иначе выводы будут искажёнными.

---

### 2. Метрики — Основа Продукта

Метрики являются основой продукта и бизнеса.

#### North Star Metric (NSM)

Это **одна главная метрика**, которая наилучшим образом отражает устойчивую ценность для пользователя и **коррелирует с ростом бизнеса**. На NSM ориентируются все продуктовые решения и приоритизации.

**Требования к NSM:**

- Отражает **ключевую ценность** продукта (не «побочные» эффекты).
- Достаточно стабильна, но **изменчива под воздействием продукта** (контролируема).
- Понятна всем командам и **легко считается** из единого источника правды.
- **Не стимулирует** «тёмные паттерны» и манипуляции.

**Примеры NSM:**

- **Маркетплейс (Авито):** Число успешных контактов/сделок в период (или доля объявлений с откликом).
- **Контент/фид:** Среднее количество качественных просмотров на активного пользователя в день.
- **Финтех:** Monthly Transacting Users (MTU) или объём активных транзакций.

#### Целевая метрика (Target Metric)

- Главный KPI эксперимента/фичи.
- Максимально близок к NSM.
- Отвечает на вопрос: «Стало ли лучше по сути ценности для пользователя/бизнеса?».
- _Пример (лента рекомендаций):_ Reply Rate (сообщения/контакты на 1 000 показов).

#### Прокси-метрики (Proxy Metrics)

- **Быстрые, локальные индикаторы**, косвенно предсказывающие изменение целевой/NSM.
- Необходимы для **ранней диагностики эффекта** и для команд, работающих на уровне фич.
- _Примеры:_ CTR карточки, глубина просмотра, доля добавлений в избранное, время до первого контакта.

#### Контр-метрики (Counter Metrics)

- **«Ограждения»**, которые не дают улучшать целевую метрику ценой деградации опыта, экономики или рисков.
- Измеряют качество, задержки, жалобы, затраты, антифрод, устойчивость.
- _Примеры:_ Жалобы/скрытия, доля повторного/нерелевантного контента, время рендера, нагрузка на систему.

#### Категории метрик (Воронка):

Продуктовая воронка (NSM): **просмотр → контакт → сделка** (или прокси: сообщения/звонки).

|Категория|Примеры метрик|
|:--|:--|
|**Воронка (Funnel)**|CTR, add-to-favorites, reply rate, time-to-first-contact.|
|**Бизнес (Business)**|LTV, CAC/ROMI, доля платящих, ARPPU, take rate, повторные сделки.|
|**Качество/Риски (Quality/Risks)**|Просмотр → контакт → сделка (или прокси: сообщения/звонки).|
|**Технические/Эксплуатация (Tech/Ops)**|Задержки пайплайнов, свежесть данных, доступность дашбордов.|

---

> **Аналогия для понимания системы метрик:** Если представить бизнес как корабль, то **North Star Metric (NSM)** — это Полярная звезда, которая задает общее, стратегическое направление движения. **Целевые метрики** — это промежуточные ориентиры, по которым мы корректируем курс во время коротких отрезков (экспериментов). А **Контр-метрики** — это предельные глубины и высоты, "ограждения", которые не дают нам слишком сильно накренить корабль или сесть на мель, пока мы пытаемся двигаться к звезде.

### **I. Введение и Основная Цель Занятия**

Основной фокус занятия — изучение того, как можно визуализировать данные, **создавать интересную и "говорящую" инфографику**. Ключевой акцент делается на **кастомизации** графиков, чтобы они были не только красивыми и запоминающимися (выбор цветов, палитр, форм), но и **понятными и читаемыми**, эффективно доносящими вашу мысль и подтверждающими аргументы.

Занятие носило полностью практический характер и проходило в **Jupiter Notebook** в Google Colab, с использованием библиотек **Pandas** (для работы с таблицами), **Matplotlib** и **Seaborn** (для визуализации).

#### **Главный Тезис Занятия: Важность Документации**

Ожидается, что студенты научатся реализовывать базовые вещи и **знать, где можно найти информацию** для более детальной настройки. В отличие от разделов, где важна логика (например, в машинном обучении), в визуализации **основной посыл в том, чтобы хорошо изучить документацию** конкретного инструмента, так как все настройки базируются на ней.

### **II. Базовые Настройки и Глобальные Параметры**

**Глобальные настройки** позволяют применить определенные стили (например, размер графика по умолчанию, размер шрифта, цветовую палитру) ко всем графикам, которые будут отрисованы после их установки. Это удобно, поскольку избавляет от необходимости дублировать код настроек для каждого отдельного графика. Эти настройки можно **перезаписывать**.

**Интеграция с Pandas:** Библиотека Pandas хорошо интегрирована с Matplotlib, позволяя вызывать методы отрисовки графиков (например, `.plot()`) напрямую от объектов DataFrame или Series.

---

### **III. Работа с Палитрами (Наборы Цветов)**

**Палитры** — это наборы цветов, которые **закодированы определенным образом, чтобы отображать графики различных типов переменных наиболее релевантно**.

> **Интуитивное понимание:** Представьте палитру как готовый набор красок, подобранных неслучайно: одни наборы подходят для маркировки совершенно разных объектов, другие — для показа роста или падения, а третьи — для выделения отклонения от центра.

Существует три основных типа палитр:

1. **Качественные (Categorical / Категориальные)**:
    
    - **Назначение:** Лучшим образом отображают **категориальные переменные**.
    - **Особенности:** Цвета обычно уникальны, не пересекаются и не похожи друг на друга, что делает график читабельным и помогает различать категории.
2. **Последовательные (Sequential)**:
    
    - **Назначение:** Используются для **упорядоченных данных**, где значение переменной изменяется с определенным шагом (например, от 0 до 10).
    - **Особенности:** Часто используют **полутона** или градиент. Изменение цвета (например, его усиление или ослабление) позволяет визуально считывать информацию о том, что переменная увеличивается или уменьшается.
3. **Дивергентные (Divergent)**:
    
    - **Назначение:** Для работы с данными, имеющими **центральную точку**.
    - **Особенности:** Цвета расходятся в разные стороны от центрального значения (например, ноль, среднее значение или цена покупки), показывая отклонение в плюс (рост) или в минус (падение). Примеры переменных: температура, корреляция, отклонение от среднего.

---

### **IV. Кастомизация Отдельных Типов Графиков**

#### **1. Диаграмма Рассеивания (Scatter Plot)**

**Скеттерплот** отображает отношения двух количественных переменных относительно друг друга. Каждая точка на графике представляет одно наблюдение в данных.

Основные параметры кастомизации:

- **`Hue` (Цвет)**: Позволяет ввести третью переменную на график. Она кодируется **цветом** отрисованной точки, а не ее положением на плоскости.
- **`Size` (Размер)**: Позволяет закодировать размер точек с помощью дополнительной числовой переменной. Когда точки меняют размер, график часто называют **баббл-чартом** (графиком мыльных пузырей).
- **`Alpha` (Прозрачность)**: Отвечает за прозрачность элементов и имеет распределение от 0 до 1.

> **Интуитивное понимание Alpha:** Низкое значение `alpha` делает точки полупрозрачными. Это позволяет увидеть **наложение точек друг на друга**, что помогает оценить плотность данных в определенных областях.

- **`Edge Color` (Цвет границы)**: Задает цвет границ объектов на графике (например, черный цвет часто делает график более четким).

#### **2. Линейный График (Line Plot)**

**Лайнплот** (например, построенный на агрегированных данных, таких как средняя цена в зависимости от количества спален) отображает некоторую связь или тренд.

- **Маркеры (`Marker`)**: Позволяют дополнительно **подсветить точки** на графике, которые соответствуют реальным посчитанным данным (например, усредненным значениям).
    - **Интерполяция:** Все, что построено между этими точками, — это **интерполяция** (моделирование, соединение соседних точек), а сами маркеры показывают, где находятся истинные данные.
- **Заливка Интервала (`Fill Between`)**: Метод, реализованный в Matplotlib, который позволяет отрисовать границы и **заполнить цветом область между ними**.
    - **Использование для отклонения:** Часто используется для изображения **стандартного отклонения** (разброса) вокруг среднего значения. Заливка показывает диапазон, в котором значения отклоняются (например, путем вычитания и прибавления стандартного отклонения к среднему).
    - Вывод из такого графика: Чем шире заливка, тем больше **вариативность** или разброс данных.

#### **3. Столбчатая Диаграмма (Bar Plot)**

**Барплот** чаще используется для отображения частоты или других статистик для **категориальных переменных**.

- **Ориентация (`Orient`)**: Позволяет изменить ориентацию столбцов (например, с вертикальной на горизонтальную `H`), что часто делает график более читабельным, если подписи длинные.
- **Вращение Подписей (`Rotation`)**: Угол поворота подписей (уникальных значений) на оси.
    - **Необходимость:** Если значения категориальных переменных — это **длинные текстовые последовательности**, горизонтальное отображение приведет к тому, что текст сольется. Вращение подписей (например, на 45 или 90 градусов) — это **must have** для обеспечения читабельности.

---

### **V. Отрисовка Множественных Графиков (Фасеты)**

Отрисовка нескольких графиков в одной фигуре (часто называемых **фасетными графиками**) позволяет **сравнить разные переменные или логически доказать гипотезу** одним взглядом, получая много информации.

#### **1. Саплоты (Subplots)**

Это базовый подход в Matplotlib.

1. Задается **размерность матрицы** (количество строк и столбцов) для холста.
2. Результат сохраняется в два объекта: сама фигура (`fig`) и **список осей** (`axes`).
3. Отрисовка графиков происходит в конкретной "ячейке" этой матрицы, обращаясь к осям по индексу (например, `axes` для первой строки, первого столбца).

#### **2. Relplot (Relational Plot)**

Это функция высокого уровня в Seaborn.

- Графики строятся **матрично**, но служат для добавления **дополнительной размерности** к анализу.
- Позволяет размножить исходный график (например, Scatter Plot) по уникальным значениям одной переменной (по строкам) и/или другой переменной (по столбцам), внося группировки в исходный датасет.

#### **3. FacetGrid**

Позволяет более гибко управлять сеткой.

- Сначала задается **сетка** (`Grid`), куда передаются основные данные и принципы разбиения (например, количество этажей по столбцам).
- Параметр `column wrap` ограничивает максимальное количество графиков в одной строке. Это позволяет сетке **автоматически адаптироваться** под количество уникальных значений переменной, если вы не знаете размерность заранее.
- С помощью метода **`.map()`** применяется единый тип графика (например, `sns.scatterplot`) ко всем ячейкам этой сетки.

#### **4. Pairplot (Парплот)**

График, который не требует написания большого кода и дает хороший результат.

- Представляет собой **матрицу графиков**, где переменные сравниваются **попарно** (аналогично матрице корреляций).
- По **диагонали** часто строятся графики **плотности распределения** (KDE, Kernel Density Estimation) для одной переменной, поскольку взаимосвязи переменной самой с собой не существует.
- Треугольники (верхний/нижний) показывают взаимосвязь между разными парами переменных. Pairplot помогает выявить **дополнительные озарения и зависимости** в данных.

---

**Аналогия для Фасетных Графиков:** Представьте, что вы анализируете большой массив данных, как если бы вы смотрели на городскую карту. **Обычный график** (например, скеттерплот) — это вид на весь город целиком, где все дома (данные) наложены друг на друга. **Фасетный график (Relplot или FacetGrid)** — это когда вы берете эту карту и автоматически разделяете ее на маленькие, упорядоченные карты (фасеты), например: одна карта только с домами, где есть кондиционер; другая — без него. Это позволяет вам **сфокусироваться на деталях** и сравнить, как выглядит зависимость (например, цена vs. площадь) в разных подгруппах, мгновенно выявляя различия, которые были бы скрыты на общей карте.